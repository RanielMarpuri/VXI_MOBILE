"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(w,f,o)=>{o.r(f),o.d(f,{LoginPageModule:()=>Z});var y=o(6895),s=o(433),d=o(4556),v=o(1407),u=o(655),b=o(529),c=o(65),e=o(8256);function L(n,l){1&n&&e._UZ(0,"ion-icon",13)}function M(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1,"Login"),e.qZA())}function C(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1,"Logging..."),e.qZA())}const P=[{path:"",component:(()=>{class n{constructor(i,t){this.http=i,this.alertController=t}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){console.log("initiating app login");let i=yield c.u.get({key:"user_profile"}),t=yield c.u.get({key:"hrid"});this.hrid=t.value,this.check=t.value,i.value&&(window.location.href="/home")})}alertCreate(i,t,a,r){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:i,subHeader:t,message:a,buttons:[r]})).present()})}fetchUser(i){this.loading=!0;const a={headers:new b.WM({"Access-Control-Allow-Origin":"http://localhost:8100, capacitor://localhost, http://localhost","Access-Control-Allow-Methods":"GET, POST","Access-Control-Allow-Headers":"X-Requested-With"})};let p="https://innovation.vxione.com/itech-api/api/v1/employees/GetByWidOrHrid/"+this.hrid+"/VXIPHP",m="";1==i?m="https://cors-anywhere.herokuapp.com/"+p:0==i&&(m=p),this.http.get(m,a).subscribe({next:g=>{let h;this.user=g,null!=this.user?(h=String(g.HireDate).replace("/",""),h=String(h).replace("/",""),this.hire_date==h?this.alertCreate("Login Success!","","Welcome.",{text:"OK",role:"confirm",handler:()=>(0,u.mG)(this,void 0,void 0,function*(){yield c.u.set({key:"user_profile",value:JSON.stringify(g)}),this.remember?yield c.u.set({key:"hrid",value:this.hrid}):yield c.u.remove({key:"hrid"}),window.location.href="/home"})}):this.alertCreate("Login Failed!!","No Match...","Try again.","OK")):this.alertCreate("Login Failed!!","No Match...","Try again.","OK"),this.loading=!1},error:g=>{console.log(g),this.alertCreate("ERROR","Cant Connect to Server",JSON.stringify(g),"Cancel"),this.loading=!1}})}redirect(){window.location.href="https://cors-anywhere.herokuapp.com/https://innovation.vxione.com/itech-api/api/v1/employees/GetByWidOrHrid/"}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(b.eN),e.Y36(d.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:8,consts:[["color","secondary",1,"h-screen","w-full","bg-[#ff6d10]","items-center"],[1,"pt-[20rem]","w-full","bg-contain","bg-center","bg-no-repeat","imageBG","mr-3",2,"background-image","url('../../assets/img/Ripped_VXI.png')"],[1,"mx-5","mt-10"],["type","text","placeholder","HRID","required","",1,"w-full","rounded-md","font-bold","mb-2","text-[#ff6d10]",3,"ngModel","ngModelChange"],["type","password","placeholder","Hire Date: mmddyyyy",1,"w-full","rounded-md","font-bold","mb-2","text-[#ff6d10]",3,"ngModel","ngModelChange"],[1,"items-start","p-auto","h-fit","mb-4"],["type","checkbox","id","remember",1,"rounded-md","h-6","w-6",3,"ngModel","checked","ngModelChange"],["for","remember",1,"ml-3","text-gray-800","select-none"],["color","primary",1,"w-full",3,"disabled","click"],["name","sync-outline","class","animate-spin",4,"ngIf"],[4,"ngIf"],[1,"bg-[#404e51]","w-full","h-[2rem]","p-1","absolute","bottom-0"],[1,"w-full","h-[1.5rem]","bg-contain","bg-center","bg-no-repeat","bg-transparent",2,"background-image","url('../../assets/img/footer.png')",3,"click"],["name","sync-outline",1,"animate-spin"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-content")(1,"div",0),e._UZ(2,"div",1),e.TgZ(3,"div",2)(4,"input",3),e.NdJ("ngModelChange",function(r){return t.hrid=r}),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(r){return t.hire_date=r}),e.qZA(),e.TgZ(6,"div",5)(7,"input",6),e.NdJ("ngModelChange",function(r){return t.remember=r}),e.qZA(),e.TgZ(8,"label",7),e._uU(9,"Remember HRID."),e.qZA()(),e.TgZ(10,"ion-button",8),e.NdJ("click",function(){return t.fetchUser(1)}),e.YNc(11,L,1,0,"ion-icon",9),e.YNc(12,M,2,0,"p",10),e.YNc(13,C,2,0,"p",10),e.qZA()(),e.TgZ(14,"div",11)(15,"div",12),e.NdJ("click",function(){return t.redirect()}),e.qZA()()()()),2&i&&(e.xp6(4),e.Q6J("ngModel",t.hrid),e.xp6(1),e.Q6J("ngModel",t.hire_date),e.xp6(2),e.Q6J("ngModel",t.remember)("checked",t.check),e.xp6(3),e.Q6J("disabled",!t.hrid||!t.hire_date),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(1),e.Q6J("ngIf",t.loading))},dependencies:[y.O5,s.Fj,s.Wl,s.JJ,s.Q7,s.On,d.YG,d.W2,d.gu]}),n})()}];let T=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.Bz.forChild(P),v.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[y.ez,s.u5,d.Pc,T]}),n})()}}]);