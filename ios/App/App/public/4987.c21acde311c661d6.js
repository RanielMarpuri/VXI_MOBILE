"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(J,p,l)=>{l.r(p),l.d(p,{LoginPageModule:()=>P});var m=l(6895),d=l(433),s=l(4556),f=l(1407),h=l(655),y=l(529),g=l(65),e=l(8256);function v(t,r){1&t&&e._UZ(0,"ion-icon",12)}function M(t,r){1&t&&(e.TgZ(0,"p"),e._uU(1,"Login"),e.qZA())}function C(t,r){1&t&&(e.TgZ(0,"p"),e._uU(1,"Logging..."),e.qZA())}const b=[{path:"",component:(()=>{class t{constructor(o,n){this.http=o,this.alertController=n}ngOnInit(){return(0,h.mG)(this,void 0,void 0,function*(){console.log("initiating app login");let o=yield g.u.get({key:"user_profile"}),n=yield g.u.get({key:"hrid"});this.hrid=n.value,this.check=n.value,o.value&&(window.location.href="/home")})}alertCreate(o,n,a,i){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:o,subHeader:n,message:a,buttons:[i]})).present()})}fetchUser(o){return(0,h.mG)(this,void 0,void 0,function*(){const n=new y.WM;n.append("Accept","application/json"),n.append("Access-Control-Allow-Headers","content-type"),n.append("Access-Control-Allow-Methods","OPTIONS, POST, GET"),n.append("Access-Control-Allow-Origin","*");const a={headers:n};this.loading=!0,this.http.get("https://vxione.com/ems_api/API/ManageNews/GetByHrid/"+this.hrid,a).subscribe({next:c=>{let u;this.user=c,console.log(this.user,"this.user data"),null!=this.user?(u=this.user.HireDate.replace("/",""),u=u.replace("/",""),console.log(u,"hireDate attempt"),this.hire_date==u?this.alertCreate("Login Success!","","Welcome.",{text:"OK",role:"confirm",handler:()=>(0,h.mG)(this,void 0,void 0,function*(){yield g.u.set({key:"user_profile",value:JSON.stringify(this.user)}),this.remember?yield g.u.set({key:"hrid",value:this.hrid}):yield g.u.remove({key:"hrid"}),window.location.href="/home"})}):this.alertCreate("Login Failed!!","No Match...","Try again.","OK")):this.alertCreate("Login Failed!!","ERROR UNKNOWN","Try again.","OK"),this.loading=!1},error:c=>{console.log(c),this.alertCreate("ERROR","Cant Connect to Server",JSON.stringify(c),"Cancel"),this.loading=!1}})})}redirect(){window.location.href="https://cors-anywhere.herokuapp.com/https://innovation.vxione.com/itech-api/api/v1/employees/GetByWidOrHrid/"}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(y.eN),e.Y36(s.Br))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:15,vars:9,consts:[["color","secondary",1,"h-screen","w-full","bg-gradient-to-t","from-[#ff9310]","to-[#ff6d10]","items-center"],[1,"pt-[20rem]","w-full","bg-contain","bg-center","bg-no-repeat","imageBG","mr-3",2,"background-image","url('../../assets/img/Ripped_VXI.png')"],[1,"mx-5","mt-10"],["type","number","placeholder","HRID","required","",1,"w-full","rounded-md","font-bold","mb-2","text-[#ff6d10]",3,"ngModel","ngModelChange"],["type","password","placeholder","Hire Date: mmddyyyy",1,"w-full","rounded-md","font-bold","mb-2","text-[#ff6d10]",3,"ngModel","ngModelChange"],["type","tel",1,"w-[93%]","rounded-md","font-bold","mb-2","text-[#ff6c1000]","bg-transparent","border-0","focus:outline-none","focus:ring-0","absolute","left-0","z-50","selec-none",3,"ngModel","ngModelChange"],[1,"items-start","p-auto","h-fit","mb-4"],["type","checkbox","id","remember",1,"rounded-md","h-6","w-6",3,"ngModel","checked","ngModelChange"],["for","remember",1,"ml-3","text-gray-800","select-none"],["color","primary",1,"w-full",3,"disabled","click"],["name","sync-outline","class","animate-spin",4,"ngIf"],[4,"ngIf"],["name","sync-outline",1,"animate-spin"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-content")(1,"div",0),e._UZ(2,"div",1),e.TgZ(3,"div",2)(4,"input",3),e.NdJ("ngModelChange",function(i){return n.hrid=i}),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(i){return n.hire_date=i}),e.qZA(),e.TgZ(6,"input",5),e.NdJ("ngModelChange",function(i){return n.hire_date=i}),e.qZA(),e.TgZ(7,"div",6)(8,"input",7),e.NdJ("ngModelChange",function(i){return n.remember=i}),e.qZA(),e.TgZ(9,"label",8),e._uU(10,"Remember HRID."),e.qZA()(),e.TgZ(11,"ion-button",9),e.NdJ("click",function(){return n.fetchUser(1)}),e.YNc(12,v,1,0,"ion-icon",10),e.YNc(13,M,2,0,"p",11),e.YNc(14,C,2,0,"p",11),e.qZA()()()()),2&o&&(e.xp6(4),e.Q6J("ngModel",n.hrid),e.xp6(1),e.Q6J("ngModel",n.hire_date),e.xp6(1),e.Q6J("ngModel",n.hire_date),e.xp6(2),e.Q6J("ngModel",n.remember)("checked",n.check),e.xp6(3),e.Q6J("disabled",!n.hrid||!n.hire_date),e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[m.O5,d.Fj,d.wV,d.Wl,d.JJ,d.Q7,d.On,s.YG,s.W2,s.gu]}),t})()}];let L=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild(b),f.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,d.u5,s.Pc,L]}),t})()}}]);